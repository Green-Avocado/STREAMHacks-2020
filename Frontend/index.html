<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=Baloo+Tamma+2:wght@400;700&display=swap" rel="stylesheet">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
	<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
 
	<title>BikePath</title>




	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqCXeTdVH9fJT8cc8RRKICuUgLQEl4T1Y&callback=initMap&libraries=&v=weekly"
			defer></script>
	<script>
	var Jason = document.getElementsByClassName("goal")
	var yeet = ["Walk 3 km", "Walk 5 km", "Bike to a shop", "Bike 10 km", "Walk to a new location", "Bike 15 km"];
	var yeet2 = ["Walk 3 km", "Walk 5 km", "Bike to a shop", "Bike 10 km", "Walk to a new location", "Bike 15 km"];
	function goal() {
	for (let i = 0; i < Jason.length; i++) {
	var Butt = Math.floor(Math.random() * yeet.length)
	Jason[i].innerHTML = yeet[Butt]
	yeet.splice(Butt, 1)
	}
	}

	var points = 0
	function AddPoint(index, box) {
	points += 1
	alert("you have " + points + " point(s)")
	var Butt  = Math.floor(Math.random() * yeet2.length)
	Jason[index].innerHTML = yeet2[Butt]
	box.checked=false
	}
	</script>
	<!--give new goal, make id unchecked-->
	<script>
		"use strict";
 
		let map;
 
		var directionsService;
		var directionsRenderer
 
		function initMap() {
 
			directionsService = new google.maps.DirectionsService();
			directionsRenderer = new google.maps.DirectionsRenderer();
			map = new google.maps.Map(document.getElementById("map"), {
				center: {
					lat: -34.397,
					lng: 150.644
				},
				zoom: 8
			});
			directionsRenderer.setMap(map);
			directionsRenderer.setPanel(document.getElementById('directionsPanel'));
		}
 
		function calcRoute(start, end, mode) {
 
			var request = {
				origin: start,
				destination: end,
				travelMode: mode
			};
			directionsService.route(request, function (response, status) {
				if (status == 'OK') {
					directionsRenderer.setDirections(response);
				}
			});
		}
 
		function routeCalcbutton() {
 
			var type = document.getElementById("destinationbar").value;
			var location = document.getElementById("locationbar").value;


			fetch('http://127.0.0.1:5000/api/address?address=' + location + '&keyword=' + type)
				.then(response => response.json())
				.then(data => console.log(data));


		}
 
 
	</script>
 
</head>
 
<body onload="goal()" style="font-family: 'Baloo Tamma 2', cursive;">
	<div class="jumbotron text-center" style="background-image: url(./Assets/background.png); background-size: 100%;">
		<h1 style="color:grey">BikePath</h1>
		<p style="background-color: lightgrey; opacity:0.7;color:white;">do your part to help the environment, by cycling and recycling</p>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<div align="right">
					<div id="firebaseui-auth-container"></div>
 
				</div>
			</div>

			<div class="col-xs-12">

				<div class="row" align="right">
					<div>

					</div>
				</div>

			</div>
			<div class="col-xs-6">
				<div class="row">
					<div class="md-form mt-0">
						<input id="locationbar" class="form-control" type="text" placeholder="Enter your Location" aria-label="Search">
						<p class="text-center" style="padding-top: 10px;">AND</p>
						<input id="destinationbar" class="form-control" type="text" placeholder="Enter a Destination" aria-label="Search">
						<div style="text-align:center;">
							<button type="button" onclick="routeCalcbutton()" style="border:none;background-color:seagreen; padding-right: 69px;justify-items: center;margin: 10px;color:white;font-weight:bold;font-size:large;"> <img src="./Assets/zoom.png"> Search </button>
						</div>
 
 
					</div> <!--Search Bar-->
					<div class="row">
						<div class="col-xs-6">
							<div id="map" style="float:left; width:600px;height:400px"></div>
							<div id="directionsPanel" style="float:right;width:100%;height:100%"></div>
 
						</div> <!--Map-->
					</div>
				</div> <!--Search Row-->
			</div> <!--Search and Map Column-->
 
 
			<div class="col-xs-3">
				<h1 style="background-color: seagreen;padding:10px;color:white;"><img src="./Assets/flag.png">Places</h1>
				<div class="location"></div>
				<div class="location"></div>
				<div class="location"></div>
				<div class="location"></div>
				<div class="location"></div>
			</div>
			<div class="col-xs-3">
				<div class="row" style="background-color: rgb(90, 146, 211);padding:10px;color:white;">
					<h1><img src="./Assets/door.png">Login</h1>
					<div style="width:75%; margin-left:20px;margin-bottom:10px;">
						<div class="row" align="right">
							<input id="emailbar" class="form-control" type="text" placeholder="Email">
						</div>
	
						<div class="row" align="right">
							<input id="passwordbar" class="form-control" type="password" placeholder="Password">
						</div>
				</div>
				</div> <!--Login-->
				
				<div class="row" style="background-color: grey;padding:10px;color:white;margin-top:20px;">
					<h1><img src="./Assets/menuList.png">Goals</h1>
					<br />
					<div class="custom-control custom-checkbox">
						<input type="checkbox" class="custom-control-input" id="defaultUnchecked" onclick="AddPoint(0, this)">
						<label class="goal custom-control-label" for="defaultUnchecked" style="padding-left:20px;font-size:large;">Loading Goal</label>
					</div>
					<br />
					<div class="custom-control custom-checkbox">
						<input type="checkbox" class="custom-control-input" id="defaultUnchecked" onclick="AddPoint(0, this)">
						<label class="goal custom-control-label" for="defaultUnchecked" style="padding-left:20px;font-size:large;">Loading Goal</label>
					</div>
					<br />
					<div class="custom-control custom-checkbox">
						<input type="checkbox" class="custom-control-input" id="defaultUnchecked" onclick="AddPoint(0, this)">
						<label class="goal custom-control-label" for="defaultUnchecked" style="padding-left:20px;font-size:large;">Loading Goal</label>
					</div>
			</div> <!--goals-->
			<div class="row">
				<h1 style="background-color: chocolate;padding:10px;color:white;"><img src="./Assets/leaderboardsComplex.png">Leaderboard</h1>
			</div> <!--Leaderboard-->
 
			</div> <!--Leaderboard + goals-->
		</div> <!--Columns-->
		<footer class="page-footer font-small blue pt-4" style="background-image: url(./Assets/footer.png); background-size: 100%; height: 69px;">

		</footer>
		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>
 
 
		<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-auth.js"></script>
 
 
		<script>
			// Your web app's Firebase configuration
			var firebaseConfig = {
				apiKey: "AIzaSyCHGiluTWm5TTtPpWupEWpf8W6bncS2vow",
				authDomain: "bikeity-bike.firebaseapp.com",
				databaseURL: "https://bikeity-bike.firebaseio.com",
				projectId: "bikeity-bike",
				storageBucket: "bikeity-bike.appspot.com",
				messagingSenderId: "815014324791",
				appId: "1:815014324791:web:68da854e317eacdb342db2",
				measurementId: "G-TWJ7M7LBM4"
			};
			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
		</script>

		<script>

			function register(email, password) {
				firebase.auth().createUserWithEmailAndPassword(email, password).then(() => {
					alert('success')
				})
					.catch(function (error) {
						// Handle Errors here.
						var errorCode = error.code;
						var errorMessage = error.message;
					});
			}

			function login(email, password) {
				firebase.auth().signInWithEmailAndPassword(email, password).then(() => {
					alert('success')
				})
					.catch(function (error) {
						// Handle Errors here.
						var errorCode = error.code;
						var errorMessage = error.message;
					});
			}
		</script>



</body>
</html>
